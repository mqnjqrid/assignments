data[1]
data
ibrary(RPostgreSQL)
con <- dbConnect(PostgreSQL(), user="manjarid", password="fath1Heim",
dbname="manjarid", host="sculptor.stat.cmu.edu")
result = dbSendQuery(con, "select hood from neighborhoodpolice;")
data = dbFetch(result)
dbClearResult(result)
library(RPostgreSQL)
con <- dbConnect(PostgreSQL(), user="manjarid", password="fath1Heim",
dbname="manjarid", host="sculptor.stat.cmu.edu")
result = dbSendQuery(con, "select hood from neighborhoodpolice;")
data = dbFetch(result)
dbClearResult(result)
data[1]
hoods = unlist(data)
hoods[1]
hoods[2]
hoods = unlist(c(data))
hoods[2]
hoods[1]
class(hood[2])
class(hoods[2])
for (hood in hoods) {
result = dbSendQuery(con, "UPDATE Blotterstdin SET NEIGHBORHOOD = hood WHERE NEIGHBORHOOD ILIKE FORMAT('%%s%%', hood) or hood ilike format ('%%s%%', neighborhood);")
}
??dbSendQuery
result = dbSendQuery(con, "UPDATE Blotterstdin AS bb SET NEIGHBORHOOD = (select hood from neighborhoodpolice AS np WHERE bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood));")
result = dbSendQuery(con, "UPDATE Blotterstdin SET NEIGHBORHOOD = (select hood from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood));")
result = dbSendStatement(con, "UPDATE Blotterstdin SET NEIGHBORHOOD = (select hood from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood));")
result = dbSendStatement(con, "select hood from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood);")
data = dbFetch(result)
data
result = dbSendStatement(con, "select hood from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood) AND bb._id IS NULL;")
data = dbFetch(result)
data
result = dbSendStatement(con, "select count(DISTINCT hood) from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood) AND bb._id IS NULL;")
data = dbFetch(result)
data
result = dbSendStatement(con, "select count(DISTINCT (np.hood, bb.neighborhood)) from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood) AND bb._id IS NULL;")
data
data = dbFetch(result)
data
result = dbSendStatement(con, "select count(DISTINCT (np.hood, bb.neighborhood)) from neighborhoodpolice AS np INNER join blotterstdin AS bb on bb.NEIGHBORHOOD ILIKE FORMAT('%%s%%', np.hood) or np.hood ilike format ('%%s%%', bb.neighborhood) AND bb._id IS NOT NULL;")
data = dbFetch(result)
data
